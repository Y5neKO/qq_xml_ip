<h1>qq-xml-ip</h1>
通过QQ的xml卡片进行ip探测

- ~~因为现版本qq安全性更新导致伪造分享卡片的软件不能用了，所以用此方法需要配合xml代码转卡片的模块或者机器人使用~~（1.0 Beta版本改进）

- 启发：来自qq机器人的"谁在窥屏"功能
- 原理：利用qq加载xml卡片消息会自动访问xml卡片中的图片地址

- 注意：① 此方法获取的ip可能多达数个，注意区分腾讯服务器ip和真实目标ip。多余ip通常有三个，ua分别为myop/1.0，本机ua及无ua的三台设备，第一个为腾讯自动将图片转换短链时获取到的服务器ip，第二个为分享给好友时自己的手机会预览图片获取到的ip，第三个为分享给好友时消息记录漫游获取到的腾讯服务器ip，除了这三个，有时还会出现一个ua为iphone使用qq6.2.5的服务器ip，除去这几个，最后获取的ip即为目标的ip

- 注意：② ~~qq的缓存问题，同一个链接对一个目标短时间内只能生效一次，具体原因不多作解释~~(1.0版本改进)
<h2>版本：</h2>

**0.1 RC** 通过qq机器人或者转xml卡片插件发送ip探测卡片

**1.0 Beta** 不需要再使用转卡片模块，可通过iptest.html页面，在qq内打开，直接分享给对方xml卡片。此方法需要在iptest.php后跟一堆随机无效参数才行，若不带参数会被qq直接转换成图床链接，暂时还未清楚原因(注意:IOS端无法通过此方法发送卡片)

**1.0 RC** 将原来的ip.html更换为php文件，可通过改变get参数达到自行更新链接缓存的作用，有效解决了qq的缓存问题，无需再实时在服务器上更改文件名，只需更改 “www.test.com/iptest.php?id=参数” 中的id参数即可生成以id参数为名的记录文件,经测试id参数需在六位及以上才会被正常转换为探测链接，反之会转换为图床链接
